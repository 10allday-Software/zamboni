{% set extras = (
    ('featured', _('Featured')),
    ('users', _('Most Popular')),
    ('rating', _('Top Rated')),
) %}

{% macro section(id, title, base_url, extras, categories) %}
  <li id="{{ id }}">
    <a href="{{ base_url }}">{{ title }}</a>
    <ul{% if categories %} class="two-col"{% endif %}>
      {% for sort, title in extras %}
        <li><em><a href="{{ base_url|urlparams(sort=sort) }}">{{ title }}</a></em></li>
      {% endfor %}
      {% for cat in categories %}
      <li><a href="{{ cat.get_url_path() }}">{{ cat.name }}</a></li>
      {% endfor %}
    </ul>
  </li>
{% endmacro %}

<nav id="site-nav" class="menu-nav c">
  <ul>
    {% set collection_extras = (
        ('featured', _('Featured')),
        ('users', _('Most Followers')),
        ('created', _('Newest')),
    ) %}
    <li id="collections">
      {% with base_url = url('collections.list') %}
      <a href="{{ base_url }}">{{ _('Collections') }}</a>
      <ul>
        {% for sort, title in collection_extras %}
          <li><em><a href="{{ base_url|urlparams(sort=sort) }}">{{ title }}</a></em></li>
        {% endfor %}
        <hr>
      </ul>
      {% endwith %}
    </li>
    <li id="more">
      <a href="#">{{ _('More&hellip;') }}</a>
      <ul>
        {% if request and request.APP == amo.FIREFOX %}
          <li class="more-mobile"><a href="{{ locale_url(amo.ANDROID.short) }}">
            {{ _('Add-ons for Mobile') }}</a></li>
        {% endif %}
        <li><a href="{{ url('devhub.index') }}">{{ _('Developer Hub') }}</a></li>
      </ul>
    </li>
  </ul>
</nav>
